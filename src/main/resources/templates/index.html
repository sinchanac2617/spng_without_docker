<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gallery – Spring Boot</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <style>
    /* Fallback if styles.css not loaded yet */
    .gallery-grid { display: grid; grid-template-columns: repeat(auto-fill,minmax(220px,1fr)); gap: 16px; }
    .gallery-card { border: 0; overflow: hidden; border-radius: 18px; box-shadow: 0 8px 24px rgba(0,0,0,.08); }
    .gallery-card img { width: 100%; height: 200px; object-fit: cover; transition: transform .35s ease; }
    .gallery-card:hover img { transform: scale(1.06); }
    .category-header { display:flex; align-items:center; justify-content:space-between; margin-top: 28px; margin-bottom: 12px; }
    .chip { font-size:.85rem; padding:.25rem .6rem; border-radius:999px; background:#f1f3f5; }
    .sticky-topbar { position: sticky; top: 0; z-index: 1020; backdrop-filter: blur(8px); background: rgba(255,255,255,.8); border-bottom: 1px solid rgba(0,0,0,.06);}
    a.nav-link { color:#333; }
    a.nav-link:hover { color:#0d6efd; }
  </style>
</head>
<body>
  <!-- Top nav with category jump links -->
  <nav class="sticky-topbar py-2">
    <div class="container d-flex gap-3 flex-wrap">
      <a class="navbar-brand fw-semibold me-3" href="#">Gallery</a>
      <div class="d-flex gap-2 flex-wrap">
        <a class="nav-link" th:each="cat : ${categories}" th:href="@{#}+${#strings.replace(cat.name,' ','-')}"
           th:text="${cat.name}">Category</a>
      </div>
    </div>
  </nav>

  <main class="container py-4">
    <header class="mb-3">
      <h1 class="h3 fw-bold mb-1">Beautiful Categories</h1>
      <p class="text-muted mb-0">Explore curated sections of images — built with Spring Boot + Thymeleaf.</p>
    </header>

    <!-- Render each category section -->
    <section th:each="cat : ${categories}" class="mb-5">
      <div class="category-header">
        <h2 class="h4 fw-bold mb-0" th:attr="id=${#strings.replace(cat.name,' ','-')}"
            th:text="${cat.name}">Category Name</h2>
        <span class="chip" th:text="${#lists.size(cat.images)} + ' photos'">0 photos</span>
      </div>

      <div class="gallery-grid">
        <article class="gallery-card" th:each="img : ${cat.images}">
          <img th:src="${img}" alt="photo">
        </article>
      </div>
    </section>
  </main>

  <footer class="py-4 text-center text-muted">
    Built with Spring Boot · Thymeleaf · Bootstrap
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
